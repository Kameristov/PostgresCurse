# ДЗ 4

1. Создать таблицу accounts(id integer, amount numeric);

    ```sql
            CREATE TABLE accounts (
                id integer,
                amount numeric
            );

            INSERT INTO accounts (id, amount) VALUES (1,2),(3,4);
    ```

2. Добавить несколько записей и подключившись через 2 терминала добиться ситуации взаимоблокировки (deadlock).

    ```sql
        BEGIN;
        UPDATE accounts SET id = 5 ;  -- Блокирует table1
        UPDATE accounts SET amount = 6 ;  -- Ожидает блокировки table2
    ```

    ```sql
        BEGIN;
        UPDATE accounts SET amount = 7  ;  -- Блокирует table2
        UPDATE accounts SET id = 8  ;  -- Ожидает блокировки table1
    ```

3. Посмотреть логи и убедиться, что информация о дедлоке туда попала.
